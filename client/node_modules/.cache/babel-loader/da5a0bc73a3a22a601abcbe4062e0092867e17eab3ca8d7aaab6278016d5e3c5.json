{"ast":null,"code":"import React,{useState}from\"react\";import{Form,Button,Alert}from\"react-bootstrap\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import FormContainer from\"../components/FormContainer\";import{IoEyeOffOutline}from\"react-icons/io5\";import{FaRegEye}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginScreen=()=>{const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);const[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const validatePassword=password=>{const minLength=8;const hasUpperCase=/[A-Z]/.test(password);const hasSymbol=/[!@#$%^&*(),.?\":{}|<>]/.test(password);if(password.length<minLength){return\"Password must be at least 8 characters long.\";}if(!hasUpperCase){return\"Password must contain at least one capital letter.\";}if(!hasSymbol){return\"Password must contain at least one symbol.\";}return\"\";};const submitHandler=async e=>{e.preventDefault();const validationError=validatePassword(password);if(validationError){setErrorMessage(validationError);return;}try{const response=await axios.post(\"http://localhost:5001/api/auth/login\",{email,password});if(response.data.success){navigate(\"/\");// Navigate to the home screen\n}else{setErrorMessage(response.data.message||\"Login failed. Please try again.\");}}catch(error){var _error$response,_error$response$data;setErrorMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"An error occurred. Please try again.\");}};const passwordChangeHandler=()=>{setShowPassword(!showPassword);};const passwordType=()=>{return showPassword?\"text\":\"password\";};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),errorMessage&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:errorMessage}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",className:\"my-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",className:\"my-3\",children:[/*#__PURE__*/_jsxs(Form.Label,{onClick:passwordChangeHandler,children:[\"Password\",\" \",showPassword?/*#__PURE__*/_jsx(FaRegEye,{className:\"mx-1\"}):/*#__PURE__*/_jsx(IoEyeOffOutline,{className:\"mx-1\"})]}),/*#__PURE__*/_jsx(Form.Control,{type:passwordType(),placeholder:\"Enter password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",className:\"mt-2\",children:\"Sign in\"})]})]});};export default LoginScreen;","map":{"version":3,"names":["React","useState","Form","Button","Alert","axios","useNavigate","FormContainer","IoEyeOffOutline","FaRegEye","jsx","_jsx","jsxs","_jsxs","LoginScreen","email","setEmail","password","setPassword","showPassword","setShowPassword","errorMessage","setErrorMessage","navigate","validatePassword","minLength","hasUpperCase","test","hasSymbol","length","submitHandler","e","preventDefault","validationError","response","post","data","success","message","error","_error$response","_error$response$data","passwordChangeHandler","passwordType","children","variant","onSubmit","Group","controlId","className","Label","Control","type","placeholder","value","onChange","target","onClick"],"sources":["/Users/liavjulio/Downloads/Vehicles_Social/client/src/screens/LoginScreen.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport FormContainer from \"../components/FormContainer\";\nimport { IoEyeOffOutline } from \"react-icons/io5\";\nimport { FaRegEye } from \"react-icons/fa\";\n\nconst LoginScreen = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const validatePassword = (password) => {\n    const minLength = 8;\n    const hasUpperCase = /[A-Z]/.test(password);\n    const hasSymbol = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n\n    if (password.length < minLength) {\n      return \"Password must be at least 8 characters long.\";\n    }\n    if (!hasUpperCase) {\n      return \"Password must contain at least one capital letter.\";\n    }\n    if (!hasSymbol) {\n      return \"Password must contain at least one symbol.\";\n    }\n    return \"\";\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const validationError = validatePassword(password);\n    if (validationError) {\n      setErrorMessage(validationError);\n      return;\n    }\n\n    try {\n      const response = await axios.post(\"http://localhost:5001/api/auth/login\", {\n        email,\n        password,\n      });\n\n      if (response.data.success) {\n        navigate(\"/\"); // Navigate to the home screen\n      } else {\n        setErrorMessage(response.data.message || \"Login failed. Please try again.\");\n      }\n    } catch (error) {\n      setErrorMessage(error.response?.data?.message || \"An error occurred. Please try again.\");\n    }\n  };\n\n  const passwordChangeHandler = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const passwordType = () => {\n    return showPassword ? \"text\" : \"password\";\n  };\n\n  return (\n    <FormContainer>\n      <h1>Sign In</h1>\n      {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\n      <Form onSubmit={submitHandler}>\n        <Form.Group controlId=\"email\" className=\"my-3\">\n          <Form.Label>Email Address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n        <Form.Group controlId=\"password\" className=\"my-3\">\n          <Form.Label onClick={passwordChangeHandler}>\n            Password{\" \"}\n            {showPassword ? (\n              <FaRegEye className=\"mx-1\" />\n            ) : (\n              <IoEyeOffOutline className=\"mx-1\" />\n            )}\n          </Form.Label>\n          <Form.Control\n            type={passwordType()}\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n        <Button type=\"submit\" variant=\"primary\" className=\"mt-2\">\n          Sign in\n        </Button>\n      </Form>\n    </FormContainer>\n  );\n};\n\nexport default LoginScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}